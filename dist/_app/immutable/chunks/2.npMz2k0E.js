import{s as de,n as te}from"./scheduler.BvLojk_z.js";import{S as ue,i as fe,e as U,s as M,b as q,c as T,d as Y,y as Q,h as F,f as B,g as K,o as me,j as he,k as v,z as ge,l as re}from"./index.H1Nm29Wc.js";import{_ as pe}from"./preload-helper.D6kgxu3v.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */const ve=r=>{const e=new Map;e.set("web",{name:"web"});const t=r.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},o=(n,l)=>{t.platforms.set(n,l)},i=n=>{t.platforms.has(n)&&(t.currentPlatform=t.platforms.get(n))};return t.addPlatform=o,t.setPlatform=i,t},Pe=r=>r.CapacitorPlatforms=ve(r),oe=Pe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});oe.addPlatform;oe.setPlatform;var S;(function(r){r.Unimplemented="UNIMPLEMENTED",r.Unavailable="UNAVAILABLE"})(S||(S={}));class X extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const be=r=>{var e,t;return r!=null&&r.androidBridge?"android":!((t=(e=r==null?void 0:r.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},we=r=>{var e,t,o,i,n;const l=r.CapacitorCustomPlatform||null,s=r.Capacitor||{},f=s.Plugins=s.Plugins||{},c=r.CapacitorPlatforms,w=()=>l!==null?l.name:be(r),P=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||w,k=()=>P()!=="web",E=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||k,H=d=>{const a=O.get(d);return!!(a!=null&&a.platforms.has(P())||j(d))},$=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.isPluginAvailable)||H,A=d=>{var a;return(a=s.PluginHeaders)===null||a===void 0?void 0:a.find(u=>u.name===d)},j=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||A,C=d=>r.console.error(d),R=(d,a,u)=>Promise.reject(`${u} does not have an implementation of "${a}".`),O=new Map,W=(d,a={})=>{const u=O.get(d);if(u)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),u.proxy;const h=P(),p=j(d);let L;const ae=async()=>(!L&&h in a?L=typeof a[h]=="function"?L=await a[h]():L=a[h]:l!==null&&!L&&"web"in a&&(L=typeof a.web=="function"?L=await a.web():L=a.web),L),le=(m,g)=>{var y,_;if(p){const x=p==null?void 0:p.methods.find(b=>g===b.name);if(x)return x.rtype==="promise"?b=>s.nativePromise(d,g.toString(),b):(b,D)=>s.nativeCallback(d,g.toString(),b,D);if(m)return(y=m[g])===null||y===void 0?void 0:y.bind(m)}else{if(m)return(_=m[g])===null||_===void 0?void 0:_.bind(m);throw new X(`"${d}" plugin is not implemented on ${h}`,S.Unimplemented)}},z=m=>{let g;const y=(..._)=>{const x=ae().then(b=>{const D=le(b,m);if(D){const I=D(..._);return g=I==null?void 0:I.remove,I}else throw new X(`"${d}.${m}()" is not implemented on ${h}`,S.Unimplemented)});return m==="addListener"&&(x.remove=async()=>g()),x};return y.toString=()=>`${m.toString()}() { [capacitor code] }`,Object.defineProperty(y,"name",{value:m,writable:!1,configurable:!1}),y},N=z("addListener"),ee=z("removeListener"),ce=(m,g)=>{const y=N({eventName:m},g),_=async()=>{const b=await y;ee({eventName:m,callbackId:b},g)},x=new Promise(b=>y.then(()=>b({remove:_})));return x.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await _()},x},J=new Proxy({},{get(m,g){switch(g){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?ce:N;case"removeListener":return ee;default:return z(g)}}});return f[d]=J,O.set(d,{name:d,proxy:J,platforms:new Set([...Object.keys(a),...p?[h]:[]])}),J},G=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.registerPlugin)||W;return s.convertFileSrc||(s.convertFileSrc=d=>d),s.getPlatform=P,s.handleError=C,s.isNativePlatform=E,s.isPluginAvailable=$,s.pluginMethodNoop=R,s.registerPlugin=G,s.Exception=X,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},ye=r=>r.Capacitor=we(r),V=ye(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Z=V.registerPlugin;V.Plugins;class ie{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let o=!1;this.listeners[e]||(this.listeners[e]=[],o=!0),this.listeners[e].push(t);const n=this.windowListeners[e];n&&!n.registered&&this.addWindowListener(n),o&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,t);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,o){const i=this.listeners[e];if(!i){if(o){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}i.forEach(n=>n(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new V.Exception(e,S.Unimplemented)}unavailable(e="not available"){return new V.Exception(e,S.Unavailable)}async removeListener(e,t){const o=this.listeners[e];if(!o)return;const i=o.indexOf(t);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(o=>{this.notifyListeners(e,o)}))}}const ne=r=>encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),se=r=>r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ce extends ie{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[i,n]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=se(i).trim(),n=se(n).trim(),t[i]=n}),t}async setCookie(e){try{const t=ne(e.key),o=ne(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${i}; path=${n}; ${l};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Z("CapacitorCookies",{web:()=>new Ce});const Le=async r=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{const i=o.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},o.onerror=i=>t(i),o.readAsDataURL(r)}),Ee=(r={})=>{const e=Object.keys(r);return Object.keys(r).map(i=>i.toLocaleLowerCase()).reduce((i,n,l)=>(i[n]=r[e[l]],i),{})},_e=(r,e=!0)=>r?Object.entries(r).reduce((o,i)=>{const[n,l]=i;let s,f;return Array.isArray(l)?(f="",l.forEach(c=>{s=e?encodeURIComponent(c):c,f+=`${n}=${s}&`}),f.slice(0,-1)):(s=e?encodeURIComponent(l):l,f=`${n}=${s}`),`${o}&${f}`},"").substr(1):null,xe=(r,e={})=>{const t=Object.assign({method:r.method||"GET",headers:r.headers},e),i=Ee(r.headers)["content-type"]||"";if(typeof r.data=="string")t.body=r.data;else if(i.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[l,s]of Object.entries(r.data||{}))n.set(l,s);t.body=n.toString()}else if(i.includes("multipart/form-data")||r.data instanceof FormData){const n=new FormData;if(r.data instanceof FormData)r.data.forEach((s,f)=>{n.append(f,s)});else for(const s of Object.keys(r.data))n.append(s,r.data[s]);t.body=n;const l=new Headers(t.headers);l.delete("content-type"),t.headers=l}else(i.includes("application/json")||typeof r.data=="object")&&(t.body=JSON.stringify(r.data));return t};class ke extends ie{async request(e){const t=xe(e,e.webFetchExtra),o=_e(e.params,e.shouldEncodeUrlParams),i=o?`${e.url}?${o}`:e.url,n=await fetch(i,t),l=n.headers.get("content-type")||"";let{responseType:s="text"}=n.ok?e:{};l.includes("application/json")&&(s="json");let f,c;switch(s){case"arraybuffer":case"blob":c=await n.blob(),f=await Le(c);break;case"json":f=await n.json();break;case"document":case"text":default:f=await n.text()}const w={};return n.headers.forEach((P,k)=>{w[k]=P}),{data:f,headers:w,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Z("CapacitorHttp",{web:()=>new ke});const $e=Z("Geolocation",{web:()=>pe(()=>import("./web.BQtPtE3T.js"),[],import.meta.url).then(r=>new r.GeolocationWeb)});function Oe(r){var G,d;let e,t,o="Geolocation",i,n,l="Your location is:",s,f,c,w=((G=r[0])==null?void 0:G.coords.latitude)+"",P,k,E,H,$=((d=r[0])==null?void 0:d.coords.longitude)+"",A,j,C,R="Get Current Location",O,W;return{c(){e=U("div"),t=U("h1"),t.textContent=o,i=M(),n=U("p"),n.textContent=l,s=M(),f=U("p"),c=q("Latitude: "),P=q(w),k=M(),E=U("p"),H=q("Longitude: "),A=q($),j=M(),C=U("button"),C.textContent=R,this.h()},l(a){e=T(a,"DIV",{class:!0});var u=Y(e);t=T(u,"H1",{"data-svelte-h":!0}),Q(t)!=="svelte-po8vm4"&&(t.textContent=o),i=F(u),n=T(u,"P",{"data-svelte-h":!0}),Q(n)!=="svelte-1pbtnpc"&&(n.textContent=l),s=F(u),f=T(u,"P",{});var h=Y(f);c=B(h,"Latitude: "),P=B(h,w),h.forEach(K),k=F(u),E=T(u,"P",{});var p=Y(E);H=B(p,"Longitude: "),A=B(p,$),p.forEach(K),j=F(u),C=T(u,"BUTTON",{"data-svelte-h":!0}),Q(C)!=="svelte-15mbpf6"&&(C.textContent=R),u.forEach(K),this.h()},h(){me(e,"class","svelte-5d50cl")},m(a,u){he(a,e,u),v(e,t),v(e,i),v(e,n),v(e,s),v(e,f),v(f,c),v(f,P),v(e,k),v(e,E),v(E,H),v(E,A),v(e,j),v(e,C),O||(W=ge(C,"click",r[1]),O=!0)},p(a,[u]){var h,p;u&1&&w!==(w=((h=a[0])==null?void 0:h.coords.latitude)+"")&&re(P,w),u&1&&$!==($=((p=a[0])==null?void 0:p.coords.longitude)+"")&&re(A,$)},i:te,o:te,d(a){a&&K(e),O=!1,W()}}}function Ae(r,e,t){let o=null;async function i(){const n=await $e.getCurrentPosition();t(0,o=n)}return[o,i]}class Se extends ue{constructor(e){super(),fe(this,e,Ae,Oe,de,{})}}export{Se as P,ie as W};
